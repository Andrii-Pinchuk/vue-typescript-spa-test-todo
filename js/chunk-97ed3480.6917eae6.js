(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97ed3480"],{"1e43":function(t,e,o){t.exports=o.p+"img/delete_todo.41eb1d9a.svg"},2344:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"todo-page"},[e("div",{staticClass:"todo-page__background"}),e("img",{staticClass:"todo-page__logo",attrs:{src:o("5331"),alt:"Citi company logo"}}),e("section",{staticClass:"todo-list"},[e("h1",{staticClass:"todo-list__main-title"},[t._v("Thank you "+t._s(t.authorizedUserName)+"!")]),e("h2",{staticClass:"todo-list__name"},[t._v("Todo list")]),e("div",{staticClass:"todo-list__add-todo"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodoName,expression:"newTodoName"}],staticClass:"todo-list__add-todo-input",class:{"todo-list__add-todo-input_error":t.hasEmptyInput},attrs:{type:"text",maxlength:"40",placeholder:"Enter todo name"},domProps:{value:t.newTodoName},on:{keydown:t.clearInputError,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTodo.apply(null,arguments)},focus:t.endEditingSelectedTodo,input:function(e){e.target.composing||(t.newTodoName=e.target.value)}}}),e("button",{staticClass:"todo-list__add-todo-btn",on:{click:t.addNewTodo}},[e("img",{attrs:{src:o("9013"),alt:"Add new todo"}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasEmptyInput,expression:"hasEmptyInput"}],staticClass:"error-information todo-list__error-information"},[e("img",{attrs:{src:o("7464"),alt:"Input error"}}),e("span",[t._v("Cannot be empty")])])]),e("ul",{staticClass:"todo-list__todos"},t._l(t.authorizedUserTodoList.todos,(function(s){return e("li",{key:s.id,staticClass:"todo-list__todo",attrs:{tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])||e.target!==e.currentTarget?null:t.deleteSelectedTodo(s)}}},[e("div",{staticClass:"todo-list__todo-information"},[e("button",{staticClass:"todo-list__change-todo-status",on:{click:function(e){return t.changeTodoStatus(s)}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:"unfinished"===s.status,expression:"todo.status=== 'unfinished'"}],attrs:{src:o("a8bc"),alt:"Todo unfinished"}}),e("img",{directives:[{name:"show",rawName:"v-show",value:"finished"===s.status,expression:"todo.status=== 'finished'"}],attrs:{src:o("468e"),alt:"Todo finished"}})]),null!==t.selectedTodo&&t.selectedTodo===s&&t.isEditingSelectedTodo?t._e():e("p",{staticClass:"todo-list__todo-description",class:{"todo-list__todo-description_finished":"finished"===s.status},on:{dblclick:function(e){return t.startEditingSelectedTodo(s)}}},[t._v(" "+t._s(s.name)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"todo.name"},{name:"show",rawName:"v-show",value:t.isEditingSelectedTodo&&t.selectedTodo===s,expression:"isEditingSelectedTodo && selectedTodo === todo"}],ref:"editInput",refInFor:!0,staticClass:"todo-list__edit-input",attrs:{type:"text",maxlength:"40"},domProps:{value:s.name},on:{focus:t.selectEditInputText,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.endEditingSelectedTodo.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.endEditingSelectedTodo.apply(null,arguments)}],input:function(e){e.target.composing||t.$set(s,"name",e.target.value)}}})]),e("div",{staticClass:"todo-list__todo-actions"},[e("button",{directives:[{name:"show",rawName:"v-show",value:null===t.selectedTodo||t.selectedTodo!==s||!t.isEditingSelectedTodo,expression:"selectedTodo === null || selectedTodo !== todo || !isEditingSelectedTodo"}],staticClass:"todo-list__start-editing-todo",on:{click:function(e){return t.startEditingSelectedTodo(s)}}},[e("img",{attrs:{src:o("9e91"),alt:"Start todo editing"}})]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isEditingSelectedTodo&&t.selectedTodo===s,expression:"isEditingSelectedTodo && selectedTodo === todo"}],staticClass:"todo-list__finish-editing-todo",on:{click:t.endEditingSelectedTodo}},[e("img",{attrs:{src:o("65b6"),alt:"Finish todo editing"}})]),e("button",{staticClass:"todo-list__delete-todo",on:{click:function(e){return t.deleteSelectedTodo(s)}}},[e("img",{attrs:{src:o("1e43"),alt:"Delete todo"}})])])])})),0)])])},i=[],d=o("9ab4"),n=o("1b40");class a{constructor(t,e){this.ownerName=t,this.todos=e}}class l{constructor(t,e){this.id=t,this.name=e,this.status="unfinished"}}class r{constructor(){this.usersTodoLists=[new a("Admin",[new l("admin1","Pass the test"),new l("admin2","Go shopping at the supermarket"),new l("admin3","Find new offer"),new l("admin4","Go to the gym 3 times a week")]),new a("Victoria",[new l("Victoria1","Find new job"),new l("Victoria2","Go shopping"),new l("Victoria3","Go to the gym 2 times a week")])]}}var c=o("b7aa");let u=class extends n["b"]{constructor(){super(...arguments),this.allTodoLists=new r,this.authorizedUserName=localStorage.getItem("userName"),this.newTodoName="",this.selectedTodo=null,this.isEditingSelectedTodo=!1,this.changingStatusTodo=null,this.hasEmptyInput=!1}beforeMount(){this.checkAuthorization(),this.findAuthorizedUserTodoList()}checkAuthorization(){const t=localStorage.getItem("isUserAuthorized");t||this.$router.push({path:c["a"].LOGIN})}findAuthorizedUserTodoList(){this.authorizedUserTodoList=this.allTodoLists.usersTodoLists.find(t=>t.ownerName===this.authorizedUserName)}addNewTodo(){if(0===this.newTodoName.length)this.hasEmptyInput=!0;else if(this.authorizedUserTodoList&&this.newTodoName.length>0){let t=`${this.authorizedUserName}${this.authorizedUserTodoList.todos.length+1}`;this.authorizedUserTodoList.todos.find(e=>e.id===t)&&(t+=1);const e=new l(t,this.newTodoName);this.authorizedUserTodoList.todos.push(e)}}deleteSelectedTodo(t){if(this.authorizedUserTodoList){const e=this.authorizedUserTodoList.todos.indexOf(t);-1!==e&&this.authorizedUserTodoList.todos.splice(e,1)}}startEditingSelectedTodo(t){this.selectedTodo=t,this.isEditingSelectedTodo=!0}selectEditInputText(){if(this.isEditingSelectedTodo){const t=this.$refs.editInput,e=t.find(t=>this.selectedTodo&&t.value===this.selectedTodo.name);e&&(e.style.display="initial",e.select())}}endEditingSelectedTodo(){this.selectedTodo&&this.selectedTodo.name.length>0&&(this.selectedTodo=null,this.isEditingSelectedTodo=!1)}clearInputError(){this.hasEmptyInput=!1}changeTodoStatus(t){this.changingStatusTodo=t,"unfinished"===this.changingStatusTodo.status?this.changingStatusTodo.status="finished":this.changingStatusTodo.status="unfinished"}};Object(d["a"])([Object(n["c"])("selectedTodo")],u.prototype,"selectEditInputText",null),u=Object(d["a"])([n["a"]],u);var h=u,p=h,g=o("2877"),m=Object(g["a"])(p,s,i,!1,null,null,null);e["default"]=m.exports},"468e":function(t,e,o){t.exports=o.p+"img/todo_finished.c2b4826a.svg"},5331:function(t,e,o){t.exports=o.p+"img/logo.afc396c2.svg"},"65b6":function(t,e,o){t.exports=o.p+"img/finish_editing_todo.e74bc6af.svg"},7464:function(t,e,o){t.exports=o.p+"img/input_error.9b4d2c70.svg"},9013:function(t,e,o){t.exports=o.p+"img/add_new_todo.c8808313.svg"},"9e91":function(t,e,o){t.exports=o.p+"img/start_editing_todo.2390459e.svg"},a8bc:function(t,e,o){t.exports=o.p+"img/todo_unfinished.d3c6765d.svg"}}]);
//# sourceMappingURL=chunk-97ed3480.6917eae6.js.map